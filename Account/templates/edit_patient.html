{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="{% static 'css/headerStyle.css' %}">
    <link href="{% static 'app/css/style.css' %}" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/slider.css' %}">

    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="wrapper">
        <div class="contact-info">
            <div><i class="fas fa-phone"></i> (+65) 11-1111-1111</div>
            <div><i class="fas fa-envelope"></i> info@toothcare.com</div>
            <div><i class="fas fa-clock"></i> Mon-Sat: 9:00 - 19:00</div>            
        </div>
        <div class="menu-bar">
            <div class="logo">
                <img class="logo-img" src="{% static 'images/Logo.png' %}" alt="ToothCare Logo">
                <span class="logo-text">ToothCare</span>
            </div>
            <ul class="nav-links">
                <li><span class="nav-item">Home</span></li>
                <li><span class="nav-item">Service</span></li>
            </ul>
            <button class="button"><a href="{% url 'login' %}">Log Out</a><i class="fa-solid fa-arrow-right-from-bracket"></i></button>
        </div>
    </div>
    
    <!-- <form method="post" action="% url 'doctor_edit' %"> -->
        <form method="post" id="myForm" class="main-content" style="margin: 0 20px;">
            <h1 style="color: #A2BEC1;;">Profile</h1>
            {% csrf_token %}
            <div class="row" >
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" class="form-control" id="name" name="name" value="{{ name }}">
                    </div>
                    <div class="form-group">
                        <label for="birth">Birth</label>
                        <input type="date" class="form-control" id="birth" name="birth" value="{{ birth }}">
                    </div>
                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select class="form-control" id="gender" name="gender">
                            <option value="Male" {% if gender == 'Male' %}selected{% endif %}>Male</option>
                            <option value="Female" {% if gender == 'Female' %}selected{% endif %}>Female</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="phonenumber">Phone Number</label>
                        <input type="text" class="form-control" id="phonenumber" name="phonenumber" value="{{ phonenumber }}">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="email">Gmail</label>
                        <input type="email" class="form-control" id="email" name="email" value="{{ email }}">
                    </div>
                    <div class="form-group">
                        <label for="nation">Nation</label>
                        <input type="text" class="form-control" id="nation" name="nation" value="{{ nation }}">
                    </div>
                    <div class="form-group">
                        <label for="bloodtype">BloodType</label>
                        <input type="text" class="form-control" id="bloodtype" name="bloodtype" value="{{ bloodtype }}">
                    </div>
                    <div class="form-group">
                        <label for="allergy">Allergy</label>
                        <input type="text" class="form-control" id="allergy" name="allergy" value="{{ allergy }}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <button type="submit" class="btn btn-success" style="width: 80px;">Save</button>
                    <!-- <a href="" class="btn btn-success btn-sm">Back to login</a> -->
                    <button type="button" class="btn btn-success" style="width: 80px;">Cancel</button>

                </div>
            </div>
        </form>
        

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const form = document.getElementById('myForm');

            form.addEventListener('submit', (e) => {
                // Get form field values
                const name = document.getElementById('name').value.trim();
                const birth = document.getElementById('birth').value;
                const gender = document.getElementById('gender').value;
                const phonenumber = document.getElementById('phonenumber').value.trim();
                const email = document.getElementById('email').value.trim();
                const nation = document.getElementById('nation').value.trim();
                const bloodtype = document.getElementById('bloodtype').value.trim();
                const allergy = document.getElementById('allergy').value.trim();

                // Validate non-null fields
                if (!name) {
                    alert('Name is required');
                    e.preventDefault();
                    return;
                }
                if (!birth) {
                    alert('Birth date is required');
                    e.preventDefault();
                    return;
                }
                if (!gender) {
                    alert('Gender is required');
                    e.preventDefault();
                    return;
                }
                if (!nation) {
                    alert('Nation is required');
                    e.preventDefault();
                    return;
                }
                if (!bloodtype) {
                    alert('Blood type is required');
                    e.preventDefault();
                    return;
                }
                if (!allergy) {
                    alert('Allergy information is required');
                    e.preventDefault();
                    return;
                }

                // Validate email format
                const emailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
                if (!emailPattern.test(email)) {
                    alert('Please enter a valid Gmail address');
                    e.preventDefault();
                    return;
                }

                // Validate phone number starting with 0
                const phonePattern = /^0[0-9]{9,14}$/;
                if (!phonePattern.test(phonenumber)) {
                    alert('Phone number must start with 0 and be 10-15 digits long');
                    e.preventDefault();
                    return;
                }
            });
        });
    </script>
</body>
</html>