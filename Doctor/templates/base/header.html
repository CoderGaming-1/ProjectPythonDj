{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'css/headerStyle.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="{% static 'css/slider.css' %}">
</head>

<body>
  <div class="wrapper">
    <div class="contact-info">
      <div><i class="fas fa-phone"></i> (+65) 11-1111-1111</div>
      <div><i class="fas fa-envelope"></i> info@toothcare.com</div>
      <div><i class="fas fa-clock"></i> Mon-Sat: 9:00 - 19:00</div>
    </div>
    <div class="menu-bar">
      <div class="logo">
        <img class="logo-img" src="{% static 'images/Logo.png' %}" alt="ToothCare Logo">
        <span class="logo-text">ToothCare</span>
      </div>

      <ul class="nav-links">
        <!-- <li><a href="{% url 'home' %}">Home</a></li> -->
        <li><a href="{% url 'schedule' %}">Schedule</a></li>
        <li><a href="{% url 'appointment' %}">Appointment</a></li>
      </ul>
      <button class="button">Log out<i class="fa-solid fa-arrow-right-from-bracket"></i></button>
    </div>
    <form action="{% url 'updateDoctor'%}" method="post" enctype="multipart/form-data" id="update-form">
      {% csrf_token %}
      <div class="doctor-container">
        <div class="action-form">
          <img src="{% static 'images/edit.png' %}" title="Update" alt="Edit Icon" onclick="updateInfo()">
          <img src="{% static 'images/settings.png' %}" title="Change password" alt="Setting Icon">
        </div>
        <div class="doctor-info">

          <input type="hidden" name="idDoctor" value="{{doctor.id}}">
          <div class="profile-picture">
            <img id="avatar-preview" class="avatar" src="{% static 'images/Doctor.PNG' %}" alt="Profile Picture">
            <h2>{{doctor.name}}</h2>
            <div class="white-line"></div>
            <div class="field-textu">
              <label for="email">
                <img src="{% static 'images/email.png' %}" alt="Email Icon">{{accountDoctor.email}}
              </label><br><br>
              <label for="phone">
                <img src="{% static 'images/phone.png' %}" alt="Phone Icon">{{doctor.phonenumber}}
              </label>
            </div>
          </div>

          <div class="profile-info">
            <div class="left-info">
              <div class="field-text">
                <label for="nation">Nation:</label>
                <input class="input-info" type="text" value="{{doctor.nation}}" readonly>
              </div>
              <div class="field-text">
                <label for="graduated">Graduated From:</label>
                <input class="input-info" type="text" value="{{doctor.graduation}}" readonly>
              </div>
            </div>

            <div class="right-info">
              <div class="able-update" id="able-update">
                <div class="field-text">
                  <label for="birth">Birth:</label>
                  <input name="birthDoctor" class="input-info-update" type="date"
                    value="{{ doctor.birth|date:'Y-m-d' }}" readonly>
                </div>
                <div class="field-text">
                  <div class="gender-selection">
                    <label for="gender">Gender:</label>
                    <input type="radio" id="male" name="gender-selected" value="male" {% if not doctor.gender%} checked
                      {%endif %} disabled>
                    <label for="male">Male</label><br>
                    <input type="radio" id="female" name="gender-selected" value="female" {% if doctor.gender%} checked
                      {%endif %} disabled>
                    <label for="female">Female</label><br>
                  </div>
                </div>
                <div class="note">
                  <label for="update-info" id="label-update-info"
                    style="font-style: italic; font-weight: lighter; font-size: 14px; display: none;">You can update infomation in this area</label>
                  <button id="update-info1" type="button" style="margin-left: 20px;" onclick="saveUpdate()">Cancel</button>
                  <button id="update-info" type="submit">Save</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

  </div>
  </div>
  <script>
    function updateInfo() {
      document.getElementById('update-info1').style.display = 'block';
      document.getElementById('update-info').style.display = 'block';
      document.getElementById('label-update-info').style.display = 'block';
      document.getElementById('able-update').style.border = '1px solid white';
      var inputs = document.querySelectorAll('.input-info-update, input[type="radio"]');
      inputs.forEach(function (input) {
        input.removeAttribute('readonly');
        input.removeAttribute('disabled');
      });
    }
    function saveUpdate() {
      document.getElementById('update-info').style.display = 'none';
      document.getElementById('update-info1').style.display = 'none';
      document.getElementById('label-update-info').style.display = 'none';
      document.getElementById('able-update').style.border = 'none';
      var inputs = document.querySelectorAll('.input-info-update, input[type="radio"]');
      inputs.forEach(function (input) {
        input.setAttribute('readonly', true);
        input.setAttribute('disabled', true);
      });
    }
  </script>
</body>

</html>